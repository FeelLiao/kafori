# Bug

1. 2025-09-01  db.interface exclass_processing()函数的返回值 results_bool 为 False 时，exclass 返回值并没有包含数据库中对应条目的信息

```python
exclass: list = [{'ExpClass': 'EXPC68b4f69d001', 'ExperimentCategory': 'drought'}] # 传入参数
results: tuple = ([False], [{'ExpClass': 'EXPC68b4f69d001', 'ExperimentCategory': 'drought'}]) # 返回值，results_bool, exclass
```

数据库中假设存在对应条目

```
exp_class, experiment_category
EXPC68b46da1001:drought
```

正常工作时该函数应该返回

```python
exclass: list = [{'ExpClass': 'EXPC68b4f69d001', 'ExperimentCategory': 'drought'}] # 传入参数
results: tuple = ([False], [{'ExpClass': 'EXPC68b46da1001', 'ExperimentCategory': 'drought'}]) # 返回值，results_bool, exclass
```

**思考**

1. 在 exp_sheet, sample_sheet, tpm, counts 四个表的插入操作中，如果用户上传的是同样一份数据，那么这份数据一样会被写入数据库中，可能会导致数据库中存在多条相同的数据。我们希望数据库里的数据是唯一的，不会重复插入相同的数据。那么应该如何实现用户传入数据的唯一性检查呢，这四个表都通过唯一ID与其他表关联，这个唯一ID是根据时间戳生成的，理论上相同的样本数据只要处理时间不同，那么这个唯一ID就会不同，就不能依靠唯一ID区分用户上传的是不是同一份数据。在用户实际使用过程中，重复上传同一份数据的可能性比较小。将唯一ID修改成依赖于样本信息的哈希值可能是一种可行的方案。
